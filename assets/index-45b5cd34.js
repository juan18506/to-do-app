(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))c(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&c(r)}).observe(document,{childList:!0,subtree:!0});function o(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(t){if(t.ep)return;t.ep=!0;const n=o(t);fetch(t.href,n)}})();var s=(e=>(e[e.Uncompleted=0]="Uncompleted",e[e.Completed=1]="Completed",e))(s||{}),_=(e=>(e[e.January=0]="January",e[e.February=1]="February",e[e.March=2]="March",e[e.April=3]="April",e[e.May=4]="May",e[e.June=5]="June",e[e.July=6]="July",e[e.August=7]="August",e[e.September=8]="September",e[e.October=9]="October",e[e.November=10]="November",e[e.December=11]="December",e))(_||{});const B=()=>{const e=new Date(Date.now()),l=_[e.getMonth()],o=e.getDate(),c=e.getFullYear();return{currentDay:o,currentMonth:l,currentYear:c}},D=(e,l,o)=>{const c=document.getElementById("date");c!==null&&(c.innerHTML=`${l} ${e}, ${o}`)},$=e=>{window.localStorage.setItem("todos",JSON.stringify(e))},T=()=>{const e=window.localStorage.getItem("todos");return e?JSON.parse(e):[]},d=T();let u=0,m=0;const h=()=>{const e=document.getElementById("status");e!==null&&(e.innerHTML=`${u} uncompleted, ${m} completed`)},g=(e,l)=>{const o=document.getElementById("uncompleted__list"),c=document.getElementById("completed__list"),t=document.createElement("li");if(t.classList.add("main__li","li"),e.status===s.Uncompleted){if(t.innerHTML=`
      <input class="li__input" type="checkbox">
      <div class="li__div">
        <h3 class="li__h3">${e.task}</h3>
        <span class="li__span">${e.topic}</span>
      </div>
    `,o===null)return;o.appendChild(t),u++}if(e.status===s.Completed){if(t.innerHTML=`
      <input class="li__input" type="checkbox" ${l?"checked":""}>
      <div class="li__div">
        <h3 class="li__h3">${e.task}</h3>
        <span class="li__span">${e.topic}</span>
      </div>
    `,c===null)return;c.appendChild(t),m++}h(),l||(d.push(e),$(d))},E=(e,l)=>{const o=document.getElementById("uncompleted__list"),c=document.getElementById("completed__list"),t=e.querySelector("h3"),n=e.querySelector("span");if(!(t===null||n===null)){for(const r of d)if(!(r.task!==t.innerText||r.topic!==n.innerText)){r.status=r.status===s.Completed?s.Uncompleted:s.Completed;break}if(l===s.Uncompleted){if(c===null)return;c.appendChild(e),u--,m++}if(l===s.Completed){if(o===null)return;o.appendChild(e),u++,m--}h(),$(d)}},y=e=>{const l=e.classList.contains("closebtn")?e.previousElementSibling.children:e.parentElement.children;for(const o of l)(o instanceof HTMLTextAreaElement||o instanceof HTMLInputElement)&&(o.value=o.defaultValue)},p=()=>{const e=document.getElementById("modal");e!==null&&e.classList.toggle("modal--active")};document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("main"),l=document.getElementById("uncompleted__list"),o=document.getElementById("completed__list"),c=e?e.lastElementChild:null,t=document.getElementById("modal"),n=t?t.firstElementChild:null,r=t?t.lastElementChild:null,{currentDay:I,currentMonth:C,currentYear:b}=B();D(I,C,b),T().forEach(i=>g(i,!0)),n!==null&&n instanceof HTMLFormElement&&n.addEventListener("submit",i=>{i.preventDefault();const a=Object.fromEntries(new FormData(n)),f=a.task.toString(),L=a.topic.toString();if(!f||!L)return;const v={task:f,topic:L,status:s.Uncompleted};g(v),n.lastElementChild instanceof HTMLButtonElement&&y(n.lastElementChild),p()}),l!==null&&l instanceof HTMLUListElement&&l.addEventListener("click",i=>{if(!(i.target instanceof HTMLInputElement)||!i.target.checked)return;const a=i.target.parentElement;a instanceof HTMLLIElement&&E(a,s.Uncompleted)}),o!==null&&o instanceof HTMLUListElement&&o.addEventListener("click",i=>{if(!(i.target instanceof HTMLInputElement)||i.target.checked)return;const a=i.target.parentElement;a instanceof HTMLLIElement&&E(a,s.Completed)}),c!==null&&c instanceof HTMLButtonElement&&c.addEventListener("click",()=>{p()}),r!==null&&r instanceof HTMLButtonElement&&r.addEventListener("click",()=>{y(r),p()})});
